{
  "name": "logtoggle",
  "permissions": "NONE",
  "restriction": "1",
  "_id": "nrrth",
  "actions": [
    {
      "behavior": "1",
      "interpretation": "1",
      "code": "const wm = this.getWrexMods();\nconst fs = wm.require(\"fs\");\nconst mkdirp = wm.require('mkdirp');\nconst nodegyp = wm.require('node-gyp');\nconst db = wm.require('quick.db');\nconst dir = `./resources/database/${server.id}/`;\nconst path = `./resources/database/${server.id}/log_chan.txt`;\nconst stripIndents = wm.require(`strip-indent`);\n//Get command args\nconst prefix = (server && server.tag) || this.getDBM().Files.data.settings.tag;\nconst args = msg.content.slice(prefix.length).trim().split(/ +/g); args.shift();\nconst query = args.join(' ');\n//define embeds\nlet error_embed = new DiscordJS.RichEmbed();\n//define regex\nconst cc = /(channel[-]?created)/gi;\nconst cd = /(channel[-]?deleted)/gi;\nconst cu = /(channel[-]?deleted)/gi;\nconst vcc = /((voice|v)[-]?channel[-]?created)/gi;\nconst vcd = /((voice|v)[-]?channel[-]?created)/gi;\nconst mj = /(member[-]?join(ed)?)/gi;\nconst ml = /(member[-]?leave)/gi;\nconst me = /(message[-]?edited)/gi;\nconst md = /(message[-]?deleted)/gi;\nconst rc = /(role[-]?created)/gi;\nconst rd = /(role[-]?deleted)/gi;\nconst ru = /(role[-]?updated)/gi;\nconst ec = /(emoji[-]?created)/gi;\nconst ed = /(emoji[-]?deleted)/gi;\n\nif (me.permissions.has('MANAGE_MESSAGES')) msg.delete();\n\nif (msg.member.permissions.has('ADMINISTRATOR')) {\n    if (!fs.existsSync(dir)) {\n        mkdirp(dir);\n    }\n    if (fs.existsSync(path)) {\n        error_embed.setTitle(':x: Invalid parameter.');\n        error_embed.addField('Valid Parameters', stripIndents(`\n        channel-created\n        channel-deleted\n        channel-updated\n        v-channel-created\n        v-channel-deleted\n        member-join\n        member-leave\n        message-edited\n        message-deleted\n        role-created\n        role-deleted\n        role-updated\n        emoji-created\n        emoji-deleted\n        `), true);\n        if (!query) msg.channel.send(error_embed);\n        if (cc.test(query)) {\n            if (db.get(`${server.id}log_system.channel-created`) === \"enabled\") {\n                db.set(`${server.id}log_system.channel-created`, 'disabled');\n                msg.channel.send('Channel-Created logs has been disabled.');\n            } else {\n                db.set(`${server.id}log_system.channel-created`, 'enabled');\n                msg.channel.send('Channel-Created logs has been enabled.');\n            }\n        } else if (cd.test(query)) {\n            if (db.get(`${server.id}logs_system.channel-deleted`) === \"enabled\") {\n                db.set(`${server.id}logs_system.channel-deleted`, 'disabled');\n                msg.channel.send('Channel-Deleted logs has been disabled');\n            } else {\n                db.set(`${server.id}logs_system.channel-deleted`, 'enabled');\n                msg.channel.send('Channel-Deleted logs has been enabled');\n            }\n        } else if (cu.test(query)) {\n            if (db.get(`${server.id}logs_system.channel-updated`) === \"enabled\") {\n                db.set(`${server.id}logs_system.channel-updated`, 'disabled');\n                msg.channel.send('Channel-Updated logs has been disabled');\n            } else {\n                db.set(`${server.id}logs_system.channel-updated`, 'enabled');\n                msg.channel.send('Channel-Updated logs has been enabled');\n            }\n        } else if (vcc.test(query)) {\n            if (db.get(`${server.id}log_system.v-channel-created`) === \"enabled\") {\n                db.set(`${server.id}log_system.v-channel-created`, 'disabled');\n                msg.channel.send('Voice-Channel-Created logs has been disabled.');\n            } else {\n                db.set(`${server.id}log_system.v-channel-created`, 'enabled');\n                msg.channel.send('Voice-Channel-Created logs has been enabled.');\n            }\n        } else if (vcd.test(query)) {\n            if (db.get(`${server.id}logs_system.v-channel-deleted`) === \"enabled\") {\n                db.set(`${server.id}logs_system.v-channel-deleted`, 'disabled');\n                msg.channel.send('Voice-Channel-Deleted logs has been disabled');\n            } else {\n                db.set(`${server.id}logs_system.v-channel-deleted`, 'enabled');\n                msg.channel.send('Voice-Channel-Deleted logs has been enabled');\n            }\n        } else if (mj.test(query)) {\n            if (db.get(`${server.id}logs_system.member-join`) === \"enabled\") {\n                db.set(`${server.id}logs_system.member-join`, 'disabled');\n                msg.channel.send('Member-Join logs has been disabled');\n            } else {\n                db.set(`${server.id}logs_system.member-join`, 'enabled');\n                msg.channel.send('Member-Join logs has been enabled');\n            }\n        } else if (ml.test(query)) {\n            if (db.get(`${server.id}logs_system.member-leave`) === \"enabled\") {\n                db.set(`${server.id}logs_system.member-leave`, 'disabled');\n                msg.channel.send('Member-Leave logs has been disabled');\n            } else {\n                db.set(`${server.id}logs_system.member-leave`, 'enabled');\n                msg.channel.send('Member-Leave logs has been enabled');\n            }\n        } else if (me.test(query)) {\n            if (db.get(`${server.id}logs_system.message-edited`) === \"enabled\") {\n                db.set(`${server.id}logs_system.message-edited`, 'disabled');\n                msg.channel.send('Member-Edited logs has been disabled');\n            } else {\n                db.set(`${server.id}logs_system.message-edited`, 'enabled');\n                msg.channel.send('Member-Edited logs has been enabled');\n            }\n        } else if (md.test(query)) {\n            if (db.get(`${server.id}logs_system.message-deleted`) === \"enabled\") {\n                db.set(`${server.id}logs_system.message-deleted`, 'disabled');\n                msg.channel.send('Member-Deleted logs has been disabled');\n            } else {\n                db.set(`${server.id}logs_system.message-deleted`, 'enabled');\n                msg.channel.send('Member-Deleted logs has been enabled');\n            }\n        } else if (rc.test(query)) {\n            if (db.get(`${server.id}logs_system.role-created`) === \"enabled\") {\n                db.set(`${server.id}logs_system.role-created`, 'disabled');\n                msg.channel.send('Role-Created logs has been disabled');\n            } else {\n                db.set(`${server.id}logs_system.role-created`, 'enabled');\n                msg.channel.send('Role-Created logs has been enabled');\n            }\n        } else if (rd.test(query)) {\n            if (db.get(`${server.id}logs_system.role-deleted`) === \"enabled\") {\n                db.set(`${server.id}logs_system.role-deleted`, 'disabled');\n                msg.channel.send('Role-Deleted logs has been disabled');\n            } else {\n                db.set(`${server.id}logs_system.role-deleted`, 'enabled');\n                msg.channel.send('Role-Deleted logs has been enabled');\n            }\n        } else if (ru.test(query)) {\n            if (db.get(`${server.id}logs_system.role-updated`) === \"enabled\") {\n                db.set(`${server.id}logs_system.role-updated`, 'disabled');\n                msg.channel.send('Role-Updated logs has been disabled');\n            } else {\n                db.set(`${server.id}logs_system.role-updated`, 'enabled');\n                msg.channel.send('Role-Updated logs has been enabled');\n            }\n        } else if (ec.test(query)) {\n            if (db.get(`${server.id}logs_system.emoji-created`) === \"enabled\") {\n                db.set(`${server.id}logs_system.emoji-created`, 'disabled');\n                msg.channel.send('Emoji-Created logs has been disabled');\n            } else {\n                db.set(`${server.id}logs_system.emoji-created`, 'enabled');\n                msg.channel.send('Emoji-Created logs has been enabled');\n            }\n        } else if (ed.test(query)) {\n            if (db.get(`${server.id}logs_system.emoji-deleted`) === \"enabled\") {\n                db.set(`${server.id}logs_system.emoji-deleted`, 'disabled');\n                msg.channel.send('Emoji-Deleted logs has been disabled');\n            } else {\n                db.set(`${server.id}logs_system.emoji-deleted`, 'enabled');\n                msg.channel.send('Emoji-Deleted logs has been enabled');\n            }\n        } else {\n            msg.channel.send(error_embed);\n        }\n    } else {\n        msg.channel.send(`The log system is not set up! Use \\`${prefix}setlogchannel\\``);\n    }\n} else {\n    msg.channel.send(':x: You are lacking the **ADMINISTRATOR** permission!');\n}",
      "storage": "0",
      "varName": "",
      "name": "Run Script"
    }
  ],
  "_aliases": [
    "togglelog",
    "lt",
    "tl"
  ],
  "comType": "0"
}